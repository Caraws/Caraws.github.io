<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Author Name,name@example.com"><title>cookie localStorage and sessionStorage · Cara's Blog</title><meta name="description" content="浏览器的数据缓存, 常用的三种方式cookie/localStorage/sessionStorage
1. cookie
全称叫做 HTTP Cookie, 通常我们直接叫做Cookie, 最初是在客户端用于存储会话信息的. 该标准要求服务器对任意 HTTP 请求发送 Set-Cookie Htt"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/avator.jpg" style="width:127px;"><h3 title=""><a href="/">Cara's Blog</a></h3><div class="description"><p>咸鱼的学习📒 Lok'tar</p></div></div></div><ul class="social-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="http://github.com/Caraws"><i class="fa fa-github"></i></a></li></ul><div class="footer"></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/about">关于</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>cookie localStorage and sessionStorage</a></h3></div><div class="post-content"><p>浏览器的数据缓存, 常用的三种方式cookie/localStorage/sessionStorage</p>
<h3 id="1-cookie"><a href="#1-cookie" class="headerlink" title="1. cookie"></a>1. cookie</h3><blockquote>
<p>全称叫做 HTTP Cookie, 通常我们直接叫做Cookie, 最初是在客户端用于存储会话信息的. 该标准要求服务器对任意 HTTP 请求发送 Set-Cookie Http 头作为响应的一部分, 其中会包含会话信息.这种 HTTP 的响应以 key-value组成的一个cookie, 且在传送中都必须是URL编码  ——<strong>JavaScript高级程序设计</strong>                             </p>
</blockquote>
<ul>
<li>Cookie 的数据大小限制不能超过4k</li>
<li>每次 HTTP 请求都会携带 Cookie,所以Cookie只适合保存很小的数据</li>
<li>默认 Cookie 在浏览器会话结束时将所有 Cookie删除, 也可以自己设置删除时间</li>
</ul>
<h4 id="JavaScript-中的Cookie"><a href="#JavaScript-中的Cookie" class="headerlink" title="JavaScript 中的Cookie"></a>JavaScript 中的Cookie</h4><ul>
<li>document.cookie 可以设置一个新的 cookie 字符串, key 和 value是必须的</li>
</ul>
<blockquote>
<p><code>document.cookie = &#39;name=Cara&#39;;</code></p>
</blockquote>
<p>由于每次客户端向服务器发送请求的时候都会发送这个 cookie , 所以最好每次设置的时候都用<code>encodeURI()</code>进行编码, <code>decodeURI()</code>来解码</p>
<h3 id="2-localStorage"><a href="#2-localStorage" class="headerlink" title="2. localStorage"></a>2. localStorage</h3><p>在 HTML5 规范中作为持久保存客户端数据的方案取代了globalStorage(以域作为访问规则), 要访问同一个 localStorage 对象, 页面必须来自同一个域名(子域名无效), 使用同一种协议, 在同一个端口上. 就相当于 globalStorage[location.host].</p>
<ul>
<li><p>使用方法储存数据</p>
<blockquote>
<p>localStorage.setItem(‘name’, ‘Cara’)</p>
</blockquote>
</li>
<li><p>使用属性储存数据</p>
<blockquote>
<p>localStorage.book = ‘JavaScript’</p>
</blockquote>
</li>
<li><p>使用方法读取数据</p>
<blockquote>
<p>localStorage.getItem(‘name’)</p>
</blockquote>
</li>
<li><p>使用属性读取数据</p>
<blockquote>
<p>var book = localStorage.book</p>
</blockquote>
</li>
<li><p>删除储存数据</p>
<blockquote>
<p>localStorage.removeItem(‘name’)</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>localStorage 和 sessionStorage 虽然也有数据储存大小限制, 但比 cookie 要大很多, 可以达到5M或更大. localStorage的数据始终有效, 即使浏览器关闭也会一直保存, 所以只要不 clear() 或者 removeItem() 数据就可以永久保存</p>
</blockquote>
<h3 id="3-sessionStorage"><a href="#3-sessionStorage" class="headerlink" title="3. sessionStorage"></a>3. sessionStorage</h3><p>sessionStorage对象储存特定于某个会话的数据, 也就是说数据只保存到浏览器关闭.</p>
<ul>
<li>sessionStorage的用法跟localStorage的用法一样</li>
</ul>
<h3 id="Storage类型"><a href="#Storage类型" class="headerlink" title="Storage类型"></a>Storage类型</h3><p>Storage 类型提供最大的储存空间 ( 因浏览器而异 ) 来储存名值对儿, 有如下方法:</p>
<ul>
<li><p>clear(): 删除所有值; ( Firefox 未实现 )</p>
</li>
<li><p>getItem(name): 根据指定的名字 name 获取对应的 value</p>
</li>
<li><p>key(idnex): 获取 index 位置的值对应的名字</p>
</li>
<li><p>removeItem(name): 删除由name指定的名值对儿</p>
</li>
<li><p>setItem(name, value): 设置指定的name及对应的value</p>
</li>
</ul>
<blockquote>
<p> 可以只用 length 来判断有多少名值对儿存放在 Storage 对象中</p>
</blockquote>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-06-11</span><i class="fa fa-tag"></i><a href="/categories/复习/" title="复习" class="tag">复习 </a><a href="/tags/JavaScript/" title="JavaScript" class="tag">JavaScript </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,https://yoursite.com/2017/06/11/cookie-localStorage-and-sessionStorage/,Cara's Blog,cookie localStorage and sessionStorage,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2017/10/14/关于移植-HEXO/" title="关于移植 HEXO" class="btn">上一篇</a></li><li class="next pagbuttons"><a role="navigation" href="/2017/05/28/iisNode/" title="关于将Node.js部署在IIS服务器" class="btn">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>