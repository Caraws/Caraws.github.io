<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Author Name,name@example.com"><title>Inheritance ç»§æ‰¿ Â· Cara's Blog</title><meta name="description" content="ç»§æ‰¿åœ¨é‚£äº›åŸºäºç±»çš„è¯­è¨€, ç»§æ‰¿æ˜¯ä¸€ç§ä»£ç é‡ç”¨çš„å½¢å¼, å¦‚æœä¸€ä¸ªæ–°çš„ç±»ä¸ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»æ‹¥æœ‰å¤§éƒ¨åˆ†ç›¸åŒçš„åŠŸèƒ½, é‚£ä¹ˆå°±åªéœ€è¦è¯´æ˜ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«å³å¯. ä½†æ˜¯ JavaScript å¹¶æ²¡æœ‰ç±»çš„æ¦‚å¿µ, ä½†æ˜¯æœ‰å¾ˆå¤šä»£ç é‡ç”¨çš„æ¨¡å¼, å®ƒå¯ä»¥æ¨¡æ‹Ÿç±»çš„æ¨¡å¼, ä¹Ÿå¯ä»¥æ”¯æŒå…¶ä»–çš„æ¨¡å¼.

ä¼ªç±»åœ¨ C++ å’Œ Javaä¸­éƒ½"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/avator.jpg" style="width:127px;"><h3 title=""><a href="/">Cara's Blog</a></h3><div class="description"><p>å’¸é±¼çš„å­¦ä¹ ğŸ“’ Lok'tar</p></div></div></div><ul class="social-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="http://github.com/Caraws"><i class="fa fa-github"></i></a></li></ul><div class="footer"></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">é¦–é¡µ</a></li><li><a href="/archives">å½’æ¡£</a></li><li><a href="/about">å…³äº</a></li><li><a href="/links">å‹é“¾</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Inheritance ç»§æ‰¿</a></h3></div><div class="post-content"><blockquote>
<h1 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h1><p>åœ¨é‚£äº›åŸºäºç±»çš„è¯­è¨€, ç»§æ‰¿æ˜¯ä¸€ç§ä»£ç é‡ç”¨çš„å½¢å¼, å¦‚æœä¸€ä¸ªæ–°çš„ç±»ä¸ä¸€ä¸ªå·²å­˜<br>åœ¨çš„ç±»æ‹¥æœ‰å¤§éƒ¨åˆ†ç›¸åŒçš„åŠŸèƒ½, é‚£ä¹ˆå°±åªéœ€è¦è¯´æ˜ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«å³å¯. ä½†æ˜¯<br> JavaScript å¹¶æ²¡æœ‰ç±»çš„æ¦‚å¿µ, ä½†æ˜¯æœ‰å¾ˆå¤šä»£ç é‡ç”¨çš„æ¨¡å¼, å®ƒå¯ä»¥æ¨¡æ‹Ÿç±»çš„<br>æ¨¡å¼, ä¹Ÿå¯ä»¥æ”¯æŒå…¶ä»–çš„æ¨¡å¼.</p>
</blockquote>
<h3 id="ä¼ªç±»"><a href="#ä¼ªç±»" class="headerlink" title="ä¼ªç±»"></a>ä¼ªç±»</h3><p>åœ¨ C++ å’Œ Javaä¸­éƒ½æ˜¯ç”¨ new å‘½ä»¤æ¥ç”Ÿæˆç¤ºå®ä¾‹, åœ¨ä½¿ç”¨ new å‘½ä»¤æ—¶éƒ½ä¼šè°ƒç”¨ç±»çš„<br>æ„é€ å‡½æ•°(constructor), å› æ­¤ Brendan Eich ( JavaScript ä½œè€…)å°† new å¼•å…¥äº† JavaScript,<br>ä»åŸå‹å¯¹è±¡ä¸Šç”Ÿæˆä¸€ä¸ªå®ä¾‹å¯¹è±¡. å› ä¸º js æ²¡æœ‰ç±», æ‰€ä»¥åœ¨ new å‘½ä»¤åé¢è·Ÿçš„æ˜¯æ„é€ å‡½æ•°,<br>è€Œä¸æ˜¯åƒ Java ä¸€æ ·è·Ÿçš„æ˜¯ç±». ç®€å•çš„æ¥è¯´å°±æ˜¯é€šè¿‡æ„é€ å™¨ç”Ÿäº§å¯¹è±¡.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆæ‰©å±•ä¸€ä¸ªæ–¹æ³•, æ‡’å¾—æ¯æ¬¡æ‰“prototype</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªä¸æ˜¯å¿…é¡»çš„</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.method = <span class="function"><span class="keyword">function</span> (<span class="params">name, fn</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.prototype[name] = fn;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯­è¨€ç²¾ç²¹é‡Œçš„ä¾‹å­ (å…¶å®è¿™ä¸€æ­¥å°±æ˜¯åœ¨æ¨¡ä»¿ new çš„å®ç°)</span></span><br><span class="line"><span class="built_in">Function</span>.method(<span class="string">'new'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, å®ƒç»§æ‰¿æ„é€ å™¨å‡½æ•°çš„åŸå‹å¯¹è±¡</span></span><br><span class="line">	<span class="keyword">let</span> that = <span class="built_in">Object</span>.create(<span class="keyword">this</span>.prototype);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è°ƒç”¨æ„é€ å™¨å‡½æ•°, å°† this ç»‘å®šåˆ°æ–°å¯¹è±¡ä¸Š</span></span><br><span class="line">	<span class="keyword">let</span> other = <span class="keyword">this</span>.apply(that, <span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> (<span class="keyword">typeof</span> other === <span class="string">'object'</span> &amp;&amp; other) || that</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç°åœ¨å®šä¹‰ä¸€ä¸ªæ„é€ å™¨</span></span><br><span class="line"><span class="keyword">let</span> Bar = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰©å±•è¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹</span></span><br><span class="line">Bar.prototype.get_name = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line">Bar.prototype.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.saying || <span class="string">''</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶åæ„é€ ä¸€ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="keyword">let</span> myBar = <span class="keyword">new</span> Bar(<span class="string">'å¦²å·±'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myBar.get_name()) <span class="comment">// å¦²å·±</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  æ©ç›–æ‰ä¸‘é™‹çš„ prototype</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å€ŸåŠ©ä¸€ä¸ªè¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="built_in">Function</span>.method(<span class="string">'inherit'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">parent</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.prototype = <span class="keyword">new</span> parent();</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡æ–°å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">// å»ç»§æ‰¿ä¸Šé¢çš„ Bar</span></span><br><span class="line"><span class="keyword">let</span> Foo = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.saying = <span class="string">'wow'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™é‡Œ inherit å’Œ method éƒ½ç›´æ¥è¿”å› this</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥å¯ä»¥é‡‡ç”¨è”çº§</span></span><br><span class="line">.inherit(Bar)</span><br><span class="line">.method(<span class="string">'noise'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="keyword">this</span>.say()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä¼ªç±»æ¨¡å¼åœ¨é€šè¿‡new å‘½ä»¤ç”Ÿäº§å¯¹è±¡æ—¶, ä¼šäº§ç”Ÿå†…å­˜æµªè´¹. å¦‚ä¸Šé¢çš„ä¾‹å­, Foo æ„é€ å‡½æ•°<br>å°±å›å»é‡å¤æ„é€ å™¨ Bar å·²ç»å®Œæˆçš„å·¥ä½œ.</p>
<h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><p>åœ¨ä¸€ä¸ªçº¯ç²¹çš„åŸå‹æ¨¡å¼ä¸­, å°†æ‘’å¼ƒç±»ä¸“æ³¨äºå¯¹è±¡. åŸºäºåŸå‹çš„ç»§æ‰¿ç›¸æ¯”äºç±»çš„<br>ç»§æ‰¿åœ¨æ¦‚å¿µä¸Šæ›´ä¸ºç®€å•: ä¸€ä¸ªæ–°å¯¹è±¡å¯ä»¥ç»§æ‰¿ä¸€ä¸ªæ—§å¯¹è±¡çš„å±æ€§. é€šè¿‡æ„é€ ä¸€ä¸ªæœ‰ç”¨<br>çš„å¯¹è±¡å¼€å§‹, æ¥ç€å¯ä»¥æ„é€ å‡ºæ›´å¤šå’Œè¿™ä¸ªå¯¹è±¡ç›¸ä¼¼çš„å¯¹è±¡.   â€”-&lt;JavaScriptè¯­è¨€ç²¾ç²¹&gt; </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆæ„é€ ä¸€ä¸ªåŸºç¡€å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> baseObject = &#123;</span><br><span class="line">	name: <span class="string">'base'</span>,</span><br><span class="line">	get_name: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥ä¸‹æ¥æ„é€ å®šåˆ¶åŒ–çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> myObj = <span class="built_in">Object</span>.create(baseObject);</span><br><span class="line">myObj.name = <span class="string">'wow'</span>;</span><br><span class="line">myObj.saying = <span class="string">'Hi'</span>;</span><br><span class="line">myObj.purr = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">let</span> str = <span class="string">''</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (str) &#123;</span><br><span class="line">			str += <span class="string">'hello'</span></span><br><span class="line">		&#125;</span><br><span class="line">		str += <span class="string">'world'</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ç§â€™å·®å¼‚åŒ–ç»§æ‰¿â€™, é€šè¿‡åˆ¶å®šä¸€ä¸ªæ–°çš„å¯¹è±¡, æŒ‡æ˜å®ƒä¸åŸºæœ¬å¯¹è±¡çš„ä¸åŒ.</p>
<h3 id="å‡½æ•°åŒ–"><a href="#å‡½æ•°åŒ–" class="headerlink" title="å‡½æ•°åŒ–"></a>å‡½æ•°åŒ–</h3><p>ä»¥ä¸Šä¸¤ç§ç»§æ‰¿æ¨¡å¼éƒ½æ²¡æœ‰å®ç°ç§æœ‰åŒ–, ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„å˜é‡å’Œæ–¹æ³•éƒ½æ˜¯å…¬å¼€çš„, æ‰€ä»¥å°±<br>å¯ä»¥å¼€å§‹è¿ç”¨æ¨¡å—æ¨¡å¼. è¿™ä¸ªå‡½æ•°ä¸»è¦åˆ†ä¸ºå››ä¸ªæ­¥éª¤:</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</p>
</li>
<li><p>å®šä¹‰ç§æœ‰å±æ€§.</p>
</li>
<li><p>ç»™è¿™ä¸ªæ–°å¯¹è±¡æ‰©å……ç‰¹æƒå‡½æ•° (æš´éœ²æ¥å£)</p>
</li>
<li><p>è¿”å›è¿™ä¸ªå¯¹è±¡</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// spec å¯¹è±¡åŒ…å«æ„é€ å™¨æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯</span></span><br><span class="line"><span class="comment">// my å¯¹è±¡å…è®¸å…¶ä»–æ„é€ å™¨åˆ†äº«ä»–ä»¬çš„ç§æœ‰å±æ€§</span></span><br><span class="line"><span class="comment">// ä»¥ä¾¿åœ¨æˆ‘ä»¬çš„æ„é€ å™¨ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">constructor</span> = (spec, my) =&gt; &#123;</span><br><span class="line">	<span class="keyword">let</span> that = &#123;&#125;; <span class="comment">// ç§æœ‰å®ä¾‹å˜é‡</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> my = my || &#123;&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ‰©å±•å…±äº«çš„å˜é‡å’Œæ–¹æ³•</span></span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">	that = ä¸€ä¸ªæ–°å¯¹è±¡</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç»™ that æ·»åŠ ç‰¹æƒæ–¹æ³• </span></span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è¿”å›è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">	<span class="keyword">return</span> that</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯­è¨€ç²¾ç²¹é‡Œçš„ä¾‹å­</p>
</blockquote>
<ol>
<li><p>æ„é€ å™¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mammal = <span class="function"><span class="params">spec</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">let</span> that = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	that.get_name = <span class="function"><span class="params">_</span> =&gt;</span> spec.name;</span><br><span class="line">	that.says = <span class="function"><span class="params">_</span> =&gt;</span> spec.saying || <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myMammal = mammal(&#123;<span class="attr">name</span>: <span class="string">'Herb'</span>&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦ä¸€ä¸ªæ„é€ å™¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cat = <span class="function"><span class="params">spec</span> =&gt;</span>&#123;</span><br><span class="line">	spec.saying = spec.saying || <span class="string">'meow'</span>;</span><br><span class="line">	<span class="comment">// ç»§æ‰¿</span></span><br><span class="line">	<span class="keyword">let</span> that = mammal(spec);</span><br><span class="line">	</span><br><span class="line">	that.purr = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">let</span> i, s = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s) &#123;</span><br><span class="line">				s += <span class="string">'-'</span>;	</span><br><span class="line">			&#125;</span><br><span class="line">			s += <span class="string">'r'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> s</span><br><span class="line">	&#125;;</span><br><span class="line">	that.get_name = <span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> that.says() + <span class="string">' '</span> + spec.name + <span class="string">' '</span> + that.says();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myCat = car(&#123;<span class="attr">name</span>: <span class="string">'Henrietta'</span>&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="è¶…ç±»"><a href="#è¶…ç±»" class="headerlink" title="è¶…ç±»"></a>è¶…ç±»</h3><p>ä»¥ä¸Šå‡½æ•°åŒ–çš„æ–¹å¼è¿˜ä¸èƒ½å¤Ÿè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•å¹¶å‘çˆ¶ç±»æ–¹æ³•ä¼ é€’å‚æ•°. ä»¥ä¸‹æ˜¯æµ‹è¯•ä»£ç <br>åœ¨<code>è¯­è¨€ç²¾ç²¹</code>çš„ä¾‹å­çš„åŸºç¡€ä¸Šç¨ä½œæ”¹åŠ¨, ä¾¿äºè‡ªå·±ç†è§£:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">const</span> mammal = <span class="function"><span class="params">spec</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">let</span> that = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	that.get_name = <span class="function"><span class="params">_</span> =&gt;</span> spec.name;</span><br><span class="line">	that.says = <span class="function"><span class="params">_</span> =&gt;</span> spec.saying || <span class="string">'Hi'</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myMammal = mammal(&#123;<span class="attr">name</span>: <span class="string">'Cara'</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myMammal.says()) <span class="comment">// 'Hi'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å™¨2</span></span><br><span class="line"><span class="keyword">const</span> cat = <span class="function"><span class="params">spec</span> =&gt;</span> &#123;</span><br><span class="line">	spec.saying = spec.saying || <span class="string">'meow'</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ­¤æ—¶ that å·²ç»åŒ…å«: get_name å’Œ says æ–¹æ³•</span></span><br><span class="line">	<span class="keyword">let</span> that = mammal(spec);</span><br><span class="line"></span><br><span class="line">	that.purr = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">let</span> str = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (str) &#123;</span><br><span class="line">				str += <span class="string">'-'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			str += <span class="string">'r'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> str</span><br><span class="line">	&#125;;</span><br><span class="line">	that.get_name = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> n || <span class="string">"i dont't have name"</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myCat = cat(&#123;<span class="attr">name</span>: <span class="string">'Henrietta'</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// i dont't have name</span></span><br><span class="line"><span class="built_in">console</span>.log(myCat.get_name())</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ—¶å€™ cat è¿˜ä¸èƒ½è®¿é—®çˆ¶ç±»æ–¹æ³•çš„èƒ½åŠ›</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥è¶…ç±» super è¿˜æ˜¯æœ‰å¿…è¦çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆæ‰©å±•ä¸¤ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•ä¸èƒ½ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰, å¦åˆ™ this æŒ‡å‘çš„window</span></span><br><span class="line"><span class="comment">// è¿™é‡Œ this éœ€è¦çš„æ˜¯è¢«è°ƒç”¨çš„å¯¹è±¡</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.method =  <span class="function"><span class="keyword">function</span> (<span class="params">name, fn</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.prototype[name] = fn;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰è°ƒç”¨çˆ¶ç±»çš„å‡½æ•°</span></span><br><span class="line"><span class="built_in">Object</span>.method(<span class="string">'superior'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> that = <span class="keyword">this</span>,</span><br><span class="line">        method = that[name];</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">    	<span class="comment">// this cat function</span></span><br><span class="line">    	<span class="built_in">console</span>.log(n)</span><br><span class="line">        <span class="keyword">return</span> method.call(that, n);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥è¯•è¯•è°ƒç”¨çˆ¶ç±»</span></span><br><span class="line"><span class="keyword">const</span> coolCat = <span class="function"><span class="params">spec</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">let</span> that = cat(spec);</span><br><span class="line">	<span class="keyword">let</span>	super_get_name = that.superior(<span class="string">'get_name'</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// n ç»™çˆ¶ç±»æ–¹æ³•ä¼ å‚</span></span><br><span class="line">	that.get_name = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'like '</span> + super_get_name.call(<span class="keyword">this</span>, n) + <span class="string">' baby'</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myCoolCat = coolCat(&#123;<span class="attr">name</span>: <span class="string">'Bix'</span>, <span class="attr">saying</span>: <span class="string">'Hi'</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = myCoolCat.get_name(<span class="string">'this cat function'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">// like this cat function baby</span></span><br></pre></td></tr></table></figure>
<h4 id="æœ€åéšä¾¿æä¸€ä¸‹"><a href="#æœ€åéšä¾¿æä¸€ä¸‹" class="headerlink" title="æœ€åéšä¾¿æä¸€ä¸‹"></a>æœ€åéšä¾¿æä¸€ä¸‹</h4><p>ç®­å¤´å‡½æ•°çš„å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹:</p>
<ol>
<li><p>å‡½æ•°ä½“å†…çš„ <code>this</code> å¯¹è±¡, å°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡, è€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡.</p>
</li>
<li><p>ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°, ä¹Ÿå°±æ˜¯è¯´, ä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤, å¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯.<br>å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ <code>this</code>, è€Œæ˜¯ç»§æ‰¿å¤–å±‚å‡½æ•°çš„<code>this</code>.</p>
</li>
<li><p>ä¸å¯ä»¥ä½¿ç”¨ <code>arguments</code> å¯¹è±¡, è¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨.</p>
</li>
<li><p>ä¸å¯ä»¥ä½¿ç”¨ <code>yield</code> å‘½ä»¤, å› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°.</p>
</li>
</ol>
<p>Ceated on 2017-9-15 by Cara </p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-10-16</span><i class="fa fa-tag"></i><a href="/categories/å¤ä¹ /" title="å¤ä¹ " class="tag">å¤ä¹  </a><a href="/categories/å¤ä¹ /ç¬”è®°ğŸ“’/" title="ç¬”è®°ğŸ“’" class="tag">ç¬”è®°ğŸ“’ </a><a href="/tags/JavaScript/" title="JavaScript" class="tag">JavaScript </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,https://yoursite.com/2017/10/16/Inheritance-ç»§æ‰¿/,Cara's Blog,Inheritance ç»§æ‰¿,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2017/10/17/Quick-Sort/" title="Quick Sort" class="btn">ä¸Šä¸€ç¯‡</a></li><li class="next pagbuttons"><a role="navigation" href="/2017/10/16/JavaScript-æ–¹æ³•é›†/" title="JavaScript æ–¹æ³•é›†" class="btn">ä¸‹ä¸€ç¯‡</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>