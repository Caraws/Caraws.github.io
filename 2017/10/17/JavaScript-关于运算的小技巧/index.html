<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Author Name,name@example.com"><title>JavaScript 关于运算的小技巧 · Cara's Blog</title><meta name="description" content="1. 使用 !! 操作符转换布尔值用于检查一个变量是否存在或者是有效值, 对变量使用 !!variable 来验证,只要变量的值为: 0, null, undefined, NaN都将返回 false, 反之返回 true. 如: 

12345678910111213 class Foo &amp;#12"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/avator.jpg" style="width:127px;"><h3 title=""><a href="/">Cara's Blog</a></h3><div class="description"><p>咸鱼的学习📒 Lok'tar</p></div></div></div><ul class="social-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="http://github.com/Caraws"><i class="fa fa-github"></i></a></li></ul><div class="footer"></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/about">关于</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>JavaScript 关于运算的小技巧</a></h3></div><div class="post-content"><blockquote>
<h4 id="1-使用-操作符转换布尔值"><a href="#1-使用-操作符转换布尔值" class="headerlink" title="1. 使用 !! 操作符转换布尔值"></a>1. 使用 <code>!!</code> 操作符转换布尔值</h4><p>用于检查一个变量是否存在或者是有效值, 对变量使用 <code>!!variable</code> 来验证,<br>只要变量的值为: 0, null, undefined, NaN都将返回 false, 反之返回 true. 如: </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> ( count ) &#123;</span><br><span class="line">        <span class="keyword">this</span>.cash = count;</span><br><span class="line">        <span class="keyword">this</span>.myCash = !!count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> emptyFoo = <span class="keyword">new</span> Foo(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(foo.cash); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.myCash); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">console</span>.log(foo.cash); <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.myCash); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="2-使用-将字符串转换为数字"><a href="#2-使用-将字符串转换为数字" class="headerlink" title="2. 使用 + 将字符串转换为数字"></a>2. 使用 <code>+</code> 将字符串转换为数字</h4><p>只适合将字符串数据转换为数字, 给后台传数据的时候经常用到,<br>如果不是字符串数据会返回 NaN.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> toNumber = <span class="function"><span class="params">strNumber</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> +strNumber;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log( toNumber(<span class="string">"123"</span>) ); <span class="comment">// 123</span></span><br><span class="line"><span class="built_in">console</span>.log( toNumber(<span class="string">" abc"</span>)); <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Date也可以使用</span></span><br><span class="line"><span class="built_in">console</span>.log( +<span class="keyword">new</span> <span class="built_in">Date</span>() ); <span class="comment">// 返回时间戳</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="3-并符条件"><a href="#3-并符条件" class="headerlink" title="3. 并符条件"></a>3. 并符条件</h4><p>经常用到这样的条件判断.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isConcat) &#123;</span><br><span class="line">    Login()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以简写成这样 <code>isConact &amp;&amp; Login()</code></p>
<h3 id="4-获取数组中的最后一个元素"><a href="#4-获取数组中的最后一个元素" class="headerlink" title="4. 获取数组中的最后一个元素"></a>4. 获取数组中的最后一个元素</h3><p><code>Array.prototype.slice (begin, end)</code> 经常用这样的方式来截取数组的元素,<br>如果不设置 end 的值, 那么默认会将数组的长度作为 end 值.<br>如果将负数作为参数的 begin 值, 就可以获取数组的最后一个元素.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log( arr.slice(<span class="number">-1</span>) ); <span class="comment">// [5]</span></span><br><span class="line">conosle.log( arr.slice(<span class="number">-2</span>) ); <span class="comment">// [4,5]</span></span><br><span class="line">以此类推</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="5-截断数组"><a href="#5-截断数组" class="headerlink" title="5. 截断数组"></a>5. 截断数组</h4><p>用来锁定数组的长度, 删除数组中的一些元素. 比如数组一共有10个元素,<br>但我只需要前5个元素, 就可以通过 <code>array.length = 5</code> 来截断数组, 如: </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log( arr.length); <span class="comment">// 5</span></span><br><span class="line">arr.length = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log( arr.length ); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log( arr ); <span class="comment">// [1,2,3]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="6-将NodeList转换为数组"><a href="#6-将NodeList转换为数组" class="headerlink" title="6. 将NodeList转换为数组"></a>6. 将NodeList转换为数组</h4><p>如果通过 <code>doucment.querySelectorAll(&#39;p&#39;)</code> 获取元素, 它返回的是一个DOM元素的<br>数组 ( NodeList ) 对象, 但是这个数组不具有数组的功能,<br>比如 <code>push() / sort()</code> 等. 这就需要将这个 NodeList 转换为真正的数组.<br>可以使用 <code>[].slice.call( NodeList )</code> 来实现. 如:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> els = <span class="built_in">document</span>.querySelectorAll( <span class="string">'p'</span> );</span><br><span class="line">[].slice.call( els );</span><br><span class="line">OR:</span><br><span class="line"><span class="keyword">var</span> arrElement = <span class="built_in">Array</span>.from( els );</span><br><span class="line">ES6:</span><br><span class="line"><span class="keyword">var</span> arr = [...els]</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="7-数组元素重排"><a href="#7-数组元素重排" class="headerlink" title="7. 数组元素重排"></a>7. 数组元素重排</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(list.sort(<span class="function"><span class="params">()</span>=&gt;</span>&#123; <span class="built_in">Math</span>.random() - <span class="number">0.5</span>&#125;))</span><br></pre></td></tr></table></figure>
</blockquote>
<p>Created on 2017-6-14 by Cara</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-10-17</span><i class="fa fa-tag"></i><a href="/categories/笔记📒/" title="笔记📒" class="tag">笔记📒 </a><a href="/categories/笔记📒/复习/" title="复习" class="tag">复习 </a><a href="/tags/JavaScript/" title="JavaScript" class="tag">JavaScript </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,https://yoursite.com/2017/10/17/JavaScript-关于运算的小技巧/,Cara's Blog,JavaScript 关于运算的小技巧,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2017/10/17/this-call-and-apply/" title="this/ call and apply" class="btn">上一篇</a></li><li class="next pagbuttons"><a role="navigation" href="/2017/10/17/JavaScript-模块化/" title=" JavaScript 模块化" class="btn">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>