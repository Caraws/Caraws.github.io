<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Cara,zzxxcclloopp@gmail.com"><title>äº‹ä»¶ Â· Cara's Blog</title><meta name="description" content="JavaScript å’Œ HTML äº¤äº’æ˜¯é€šè¿‡äº‹ä»¶å®ç°, è€Œäº‹ä»¶å¤„ç†ç¨‹åºè®¢é˜…äº‹ä»¶ä»è€Œæ‰§è¡Œç›¸åº”çš„æ“ä½œ.
äº‹ä»¶æµäº‹ä»¶æµæè¿°çš„æ˜¯ ä»é¡µé¢æ¥æ”¶äº‹ä»¶çš„é¡ºåº.äº‹ä»¶å†’æ³¡: ä»æœ€å…·ä½“çš„å…ƒç´ åˆ°æœ€ä¸å…·ä½“çš„å…ƒç´ (ä»å†…åˆ°å¤–); â€” IEäº‹ä»¶æ•è·: ä»æœ€ä¸å…·ä½“çš„å…ƒç´ åˆ°æœ€å…·ä½“çš„å…ƒç´ (ä»å¤–åˆ°å†…); â€” NetscapeDOM äº‹"><meta name="keywords" content="hexo, HTML, CSS, Javascript, Node.js"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="http://ordjgqxuv.bkt.clouddn.com/nike-girl/IMG_2930.JPG" style="width:127px;"><h3 title=""><a href="/">Cara's Blog</a></h3><div class="description"><p>å’¸é±¼çš„åšå®¢å’Œå­¦ä¹ ç¬”è®°ğŸ“’ 'Lok-Tar Ogar!'.</p></div></div></div><ul class="social-links"><li><a href="http://github.com/Caraws"><i class="fa fa-github"></i></a></li></ul><div class="footer"></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">é¦–é¡µ</a></li><li><a href="/archives">å½’æ¡£</a></li><li><a href="/about">å…³äº</a></li><li><a href="/links">å‹é“¾</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="http://ordjgqxuv.bkt.clouddn.com/cara_30/WechatIMG8.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>äº‹ä»¶</a></h3></div><div class="post-content"><p>JavaScript å’Œ HTML äº¤äº’æ˜¯é€šè¿‡äº‹ä»¶å®ç°, è€Œäº‹ä»¶å¤„ç†ç¨‹åºè®¢é˜…äº‹ä»¶ä»è€Œæ‰§è¡Œç›¸åº”çš„æ“ä½œ.</p>
<h4 id="äº‹ä»¶æµ"><a href="#äº‹ä»¶æµ" class="headerlink" title="äº‹ä»¶æµ"></a>äº‹ä»¶æµ</h4><p>äº‹ä»¶æµæè¿°çš„æ˜¯ ä»é¡µé¢æ¥æ”¶äº‹ä»¶çš„é¡ºåº.<br>äº‹ä»¶å†’æ³¡: ä»æœ€å…·ä½“çš„å…ƒç´ åˆ°æœ€ä¸å…·ä½“çš„å…ƒç´ (ä»å†…åˆ°å¤–); â€” IE<br>äº‹ä»¶æ•è·: ä»æœ€ä¸å…·ä½“çš„å…ƒç´ åˆ°æœ€å…·ä½“çš„å…ƒç´ (ä»å¤–åˆ°å†…); â€” Netscape<br>DOM äº‹ä»¶æµ: å…ˆæ•è·åå†’æ³¡çš„æ–¹å¼.</p>
<p>DOMäº‹ä»¶æµåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µ:</p>
<ol>
<li>æ•è·é˜¶æ®µ (IE ä½ç‰ˆæœ¬ä¸æ”¯æŒè¯¥é˜¶æ®µ)</li>
<li>ç›®æ ‡é˜¶æ®µ (è§¦å‘äº‹ä»¶)</li>
<li>å†’æ³¡é˜¶æ®µ (å›ä¼ æ–‡æ¡£)</li>
</ol>
<h4 id="äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="äº‹ä»¶å¤„ç†ç¨‹åº"></a>äº‹ä»¶å¤„ç†ç¨‹åº</h4><p>äº‹ä»¶æ˜¯ç”¨æˆ·æˆ–æµè§ˆå™¨è‡ªèº«æ‰§è¡Œçš„åŠ¨ä½œ, äº‹ä»¶å¤„ç†ç¨‹åº(äº‹ä»¶ç›‘å¬å™¨)æ˜¯å“åº”äº‹ä»¶çš„åŠ¨ä½œ. æ¯”å¦‚ click äº‹ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åºå°±æ˜¯ onclick, ä¸ºäº‹ä»¶æŒ‡å®šå¤„ç†ç¨‹åºçš„æ–¹å¼ä¹Ÿæœ‰å‡ ç§.</p>
<h5 id="HTML-äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#HTML-äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="HTML äº‹ä»¶å¤„ç†ç¨‹åº"></a>HTML äº‹ä»¶å¤„ç†ç¨‹åº</h5><p>åœ¨æ ‡ç­¾ä¸Šç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åº, HTML å’Œ js ç´§å¯†è€¦åˆ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">'alert('</span><span class="attr">clicked</span>')'&gt;</span>click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h5 id="DOM-0çº§äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#DOM-0çº§äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="DOM 0çº§äº‹ä»¶å¤„ç†ç¨‹åº"></a>DOM 0çº§äº‹ä»¶å¤„ç†ç¨‹åº</h5><p>å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºå±æ€§<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'#btn'</span>);</span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	alert(<span class="string">'clicked'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="DOM-2çº§äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#DOM-2çº§äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="DOM 2çº§äº‹ä»¶å¤„ç†ç¨‹åº"></a>DOM 2çº§äº‹ä»¶å¤„ç†ç¨‹åº</h5><p>å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•, ç”¨äºç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åºå’Œåˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº: <code>addEventListener()</code>å’Œ<code>removeEventListener()</code>. æ‰€æœ‰çš„ DOM èŠ‚ç‚¹éƒ½åŒ…å«è¿™ä¸¤ä¸ªæ–¹æ³•, æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°: éœ€è¦å¤„ç†çš„äº‹ä»¶å/ å¤„ç†å‡½æ•°/ å¸ƒå°”å€¼(true ä¸ºåœ¨æ•è·é˜¶æ®µè°ƒç”¨; false ä¸ºåœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'#btn'</span>);</span><br><span class="line"><span class="comment">// ç»‘å®šå¤„ç†ç¨‹åº</span></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	alert(<span class="string">'clicked'</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">// ç§»é™¤å¤„ç†ç¨‹åº(ç§»é™¤å¤„ç†ç¨‹åºæ—¶, ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»å’Œç»‘å®šæ—¶ä¸€æ ·)</span></span><br><span class="line">btn.removeEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	alert(<span class="string">'remove'</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="IE-å’Œ-DOM2çº§äº‹ä»¶å¤„ç†ç¨‹åºçš„åŒºåˆ«"><a href="#IE-å’Œ-DOM2çº§äº‹ä»¶å¤„ç†ç¨‹åºçš„åŒºåˆ«" class="headerlink" title="IE å’Œ  DOM2çº§äº‹ä»¶å¤„ç†ç¨‹åºçš„åŒºåˆ«"></a>IE å’Œ  DOM2çº§äº‹ä»¶å¤„ç†ç¨‹åºçš„åŒºåˆ«</h4><ul>
<li>IE äº‹ä»¶å¤„ç†ç¨‹åº<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = docuemnt.querySelector(<span class="string">'#btn'</span>);</span><br><span class="line"><span class="comment">// ç»‘å®šäº‹ä»¶</span></span><br><span class="line">btn.attachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// this === window</span></span><br><span class="line">	alert(<span class="string">'click on IE'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç§»é™¤äº‹ä»¶</span></span><br><span class="line">btn.detachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	alert(<span class="string">'remove on IE'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>ä»¥ä¸Šä¸¤ç§äº‹ä»¶å¤„ç†ç¨‹åºéƒ½æ”¯æŒç»‘å®šå¤šä¸ªäº‹ä»¶, DOM2çº§æŒ‰ç…§é¡ºåº</strong></p>
<ul>
<li>è·¨æµè§ˆå™¨äº‹ä»¶å¤„ç†<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> EventUtil = &#123;</span><br><span class="line">	<span class="comment">// ç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åº</span></span><br><span class="line">	addHanlder: <span class="function"><span class="keyword">function</span> (<span class="params">element, type, handler</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (element.addEventListener) &#123;</span><br><span class="line">			element.addEventListener(type, handler, <span class="literal">false</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (element.attachEvent) &#123;</span><br><span class="line">			element.attachEvent(<span class="string">'on'</span> + type, handler)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			element[<span class="string">'on'</span> + type] = handler;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">// ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br><span class="line">	removeHandler: <span class="function"><span class="keyword">function</span> (<span class="params">element, type, handler</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (element.removeEventListener) &#123;</span><br><span class="line">			element.removeEventListener(type, handler, <span class="literal">false</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (element.detachEvent) &#123;</span><br><span class="line">			element.detachEvent(<span class="string">'on'</span> + type, handler)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			element[<span class="string">'on'</span> + type] = <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="äº‹ä»¶ä»£ç†-å§”æ‰˜"><a href="#äº‹ä»¶ä»£ç†-å§”æ‰˜" class="headerlink" title="äº‹ä»¶ä»£ç†/ å§”æ‰˜"></a>äº‹ä»¶ä»£ç†/ å§”æ‰˜</h4><p>ç”±äºäº‹ä»¶å¤„ç†ç¨‹åºè¶Šå¤š, æ€§èƒ½è¶Šå·®, æ‰€ä»¥æœ‰äº†äº‹ä»¶å¤„ç†ç¨‹åº. äº‹ä»¶ä»£ç†çš„åŸç†æ˜¯åŸºäºäº‹ä»¶çš„å†’æ³¡æœºåˆ¶å®ç°çš„, ç”±ä¸Šçº§èŠ‚ç‚¹ä»£ç†å®Œæˆäº‹ä»¶ç»‘å®š, ä¼˜ç‚¹æ˜¯: </p>
<blockquote>
<p>èŠ‚çœå†…å­˜å ç”¨, å‡å°‘äº‹ä»¶æ³¨å†Œ. æ¯”å¦‚åœ¨<code>ul</code>ä»£ç†æ‰€æœ‰<code>li</code>çš„ç‚¹å‡»äº‹ä»¶<br>åŠ¨æ€æ–°å¢å­çº§æ—¶, æ— éœ€å†æ¬¡ç»‘å®šäº‹ä»¶.</p>
</blockquote>
<p>å¯èƒ½ä¼šæåˆ°<code>currentTarget</code>å’Œ<code>target</code>çš„åŒºåˆ«: currentTarget æ˜¯æ³¨å†Œäº‹ä»¶æ—¶çš„ç›®æ ‡(åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­<code>this</code>å§‹ç»ˆæŒ‡å‘ currentTarget), target æ˜¯çœŸæ­£è§¦å‘äº‹ä»¶çš„ç›®æ ‡.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// äº‹ä»¶æ³¨å†Œæ—¶çš„å…ƒç´ </span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">document</span>.body === event.currentTarget); <span class="comment">// true</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">document</span>.body); <span class="comment">// true</span></span><br><span class="line">	<span class="comment">// çœŸæ­£ç‚¹å‡»çš„å…ƒç´ </span></span><br><span class="line">	<span class="built_in">console</span>.log(event.target === <span class="built_in">document</span>.querySelector(<span class="string">'#btn'</span>)); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h4><p>äº‹ä»¶å†…ç½®çš„ event å¯¹è±¡, ä¸‹é¢åˆ—ä¸¾å¸¸ç”¨çš„å‡ ä¸ªäº‹ä»¶å¯¹è±¡å±æ€§:</p>
<ul>
<li>event || window.event</li>
<li>event.preventDefault() || window.event.cancelBubble(Boolean)<br>é˜»æ­¢æµè§ˆå™¨é»˜è®¤äº‹ä»¶</li>
<li>event.stopPropagation() || window.event.returnValue(Boolean)<br>é˜»æ­¢å†’æ³¡äº‹ä»¶</li>
<li>event.target || winow.event.srcElement</li>
</ul>
<p>Created on 2017-12-10 by Cara</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-12-10</span><i class="fa fa-tag"></i><a href="/categories/å¤ä¹ /" title="å¤ä¹ " class="tag">å¤ä¹  </a><a href="/tags/JavaScript/" title="JavaScript" class="tag">JavaScript </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,https://yoursite.com/2017/12/10/äº‹ä»¶ä»£ç†-å§”æ‰˜/,Cara's Blog,äº‹ä»¶,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2017/12/20/å£°æ˜æå‡/" title="å£°æ˜æå‡" class="btn">ä¸Šä¸€ç¯‡</a></li><li class="next pagbuttons"><a role="navigation" href="/2017/11/23/Flex-å¼¹æ€§ç›’å­/" title="Flex å¼¹æ€§ç›’å­" class="btn">ä¸‹ä¸€ç¯‡</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>